@{
    ViewBag.Title = "Home Page";
}
@using DBFactory

<style>
    .caption {
        width: 100%;
        bottom: .3rem;
        position: absolute;
        background: #000;
        background: -webkit-linear-gradient(bottom, #000 40%, rgba(0, 0, 0, 0) 100%) repeat scroll 0 0 rgba(0, 0, 0, 0);
        background: -moz-linear-gradient(bottom, #000 40%, rgba(0, 0, 0, 0) 100%) repeat scroll 0 0 rgba(0, 0, 0, 0);
        background: -o-linear-gradient(bottom, #000 40%, rgba(0, 0, 0, 0) 100%) repeat scroll 0 0 rgba(0, 0, 0, 0);
        background: linear-gradient(to top, #000 40%, rgba(0, 0, 0, 0) 100%) repeat scroll 0 0 rgba(0, 0, 0, 0);
    }

    .thumbnail {
        border: 0 none;
        box-shadow: none;
        margin: 0;
        padding: 0;
    }

    .caption h4 {
        color: #fff;
        -webkit-font-smoothing: antialiased;
    }

    .caption h5{
        color: #fff;
    }

    .icon
    {
        color:#fff
    }

    .ribbon-holder{
        overflow: hidden;    
    }

    .ribbon{
        position: absolute;
	    background: tomato;
        color: white;
        transform: rotate(-45deg);
        text-align: center;
        top: 20px;
        left: -25px;
        width:110px;
    }
</style>

<hr />

<div class="container text-center">
    <div class="container">
        <div class="col-lg-12 col-md-12">

            @foreach (var recipe in DB.Instance.GetRecipesPublishedDecendingOrder(9))
            {
                var group = DB.Instance.GetGroup(@recipe.GroupId);

                <a href="Recipe/Details/@recipe.ID">
                    <div class="col-lg-6 col-md-6">
                        <div class="col-lg-12 col-sm-12 col-md-12 thumbnail text-center ribbon-holder">
                            
                            @if (group != null)
                            {
                                <div class="ribbon">@group.Name</div>
                            }
                            <img src="@recipe.FinishedMealImage.Image" class="text-center img-responsive" >
                            <div class="caption col-lg-12 col-md-12">
                                <h4>@recipe.Title</h4>
                                @for (int i = 0; i < 5; i++)
                                {
                                    if (i < @recipe.Difficulty)
                                    {
                                        <i class="fa fa-star icon" aria-hidden="true"></i>
                                    }
                                    else
                                    {
                                        <i class="fa fa-star-o icon" aria-hidden="true"></i>
                                    }
                                }

                                <div class="row">
                                    <i class="fa fa-clock-o icon" aria-hidden="true"> @recipe.PreparationTime min </i>
                                </div>
                            </div>
                            <hr />
                        </div>
                    </div>
                </a>

                @*<a href="Recipe/Details/@recipe.ID">
                        <div class="container">
                            <div class="col-md-12 row">
                                <div class="col-md-12 col-sm-4">
                                    <div class="col-sm-12 col-md-12 thumbnail text-center">
                                        <img src="@recipe.FinishedMealImage.Image" class="img-responsive text-center" style="width:100%">
                                        <div class="caption">
                                            <h4>@recipe.Title</h4>
                                            @for (int i = 0; i < 5; i++)
                                            {
                                                if (i < @recipe.Difficulty)
                                                {
                                                    <i class="fa fa-star icon" aria-hidden="true"></i>
                                                }
                                                else
                                                {
                                                    <i class="fa fa-star-o icon" aria-hidden="true"></i>
                                                }
                                            }

                                            <div class="row">
                                                <i class="fa fa-clock-o icon" aria-hidden="true"> @recipe.PreparationTime min </i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>*@
            }
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <h2>Artikkel tittel</h2>
        <p>Kort intro for artikkel tekst her.</p>
        <p><a class="btn btn-default" href="">Les mer&raquo;</a></p>
    </div>
    <div class="col-md-6">
        <h2>Artikkel tittel</h2>
        <p>Kort intro for artikkel tekst her.</p>
        <p><a class="btn btn-default" href="">Les mer&raquo;</a></p>
    </div>
</div>